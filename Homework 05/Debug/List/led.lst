###############################################################################
#
# IAR C/C++ Compiler V7.21.1.1000/W32 for MSP430          02/Feb/2022  20:54:42
# Copyright 1996-2021 IAR Systems AB.
# PC-locked license - IAR Embedded Workbench for MSP430, 8K KickStart Edition 7.21
#
#    __rt_version  =  3
#    __double_size =  32
#    __reg_r4      =  free
#    __reg_r5      =  free
#    __pic         =  no
#    __core        =  430X
#    __data_model  =  small
#    __code_model  =  large
#    Source file   =  C:\Users\saad\Documents\ECE306\Project 03\led.c
#    Command line  =  
#        -f C:\Users\saad\AppData\Local\Temp\EWF60A.tmp
#        ("C:\Users\saad\Documents\ECE306\Project 03\led.c" -lC
#        "C:\Users\saad\Documents\ECE306\Project 03\Debug\List" -o
#        "C:\Users\saad\Documents\ECE306\Project 03\Debug\Obj" --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --debug
#        -D__MSP430FR2355__ -e --double=32 --dlib_config "C:\Program Files\IAR
#        Systems\Embedded Workbench 8.5\430\lib\dlib\dl430xlsfn.h" -I ./
#        --core=430X --data_model=small -On --multiplier=32
#        --hw_workaround=CPU40 --code_model=large)
#    Locale        =  English_USA.1252
#    List file     =  
#        C:\Users\saad\Documents\ECE306\Project 03\Debug\List\led.lst
#    Object file   =  
#        C:\Users\saad\Documents\ECE306\Project 03\Debug\Obj\led.r43
#
###############################################################################

C:\Users\saad\Documents\ECE306\Project 03\led.c
      1          //==============================================================================
      2          // File Name : led.c
      3          // 
      4          // Description: This file contains mission code
      5          // 
      6          // Author: Ibrahim Moghul
      7          // Date: Feb 2022 
      8          // Compiler: Built with IAR Embedded Workbench Version: 7.21.1 
      9          //==============================================================================
     10          
     11          #include "led.h"
     12          #include "init.h"

   \                                 In  segment DATA16_AN, at 0x202
   \   union <unnamed> _A_PAOUT_L
   \                     _A_PAOUT_L:
   \   000000                DS8 2

   \                                 In  segment DATA16_AN, at 0x242
   \   union <unnamed> _A_PCOUT_L
   \                     _A_PCOUT_L:
   \   000000                DS8 2
     13          #include "functions.h"
     14          #include "ports.h"
     15          
     16          
     17          extern volatile unsigned char update_display;
     18          extern volatile unsigned char display_changed;
     19          extern volatile unsigned int Time_Sequence;
     20          extern volatile char one_time;
     21          extern volatile unsigned int cycle_count;
     22          
     23          
     24          //===========================================================================
     25          // Function name: Display_Process
     26          //
     27          // Description: Display output to LCD
     28          //
     29          // Passed : no variables passed
     30          // Locals: no variables declared
     31          // Returned: no values returned
     32          // Globals: display_changed
     33          // update_display
     34          //
     35          // Author: Ibrahim Moghul
     36          // Date: Feb 2022
     37          // Compiler: Built with IAR Embedded Workbench Version: (7.21.1)
     38          //===========================================================================

   \                                 In  segment CODE, align 2
     39          void Display_Process(void){
   \                     Display_Process:
     40            if(update_display){
   \   000000   C293....     CMP.B   #0x0, &update_display
   \   000004   0D24         JEQ     ??Display_Process_0
     41              update_display = 0;
   \   000006   C243....     MOV.B   #0x0, &update_display
     42              if(display_changed){
   \   00000A   C293....     CMP.B   #0x0, &display_changed
   \   00000E   0824         JEQ     ??Display_Process_0
     43                display_changed = 0;
   \   000010   C243....     MOV.B   #0x0, &display_changed
     44                Display_Update(0,0,0,0);
   \   000014   4F43         MOV.B   #0x0, R15
   \   000016   4E43         MOV.B   #0x0, R14
   \   000018   4D43         MOV.B   #0x0, R13
   \   00001A   4C43         MOV.B   #0x0, R12
   \   00001C   ........     CALLA   #Display_Update
     45              }
     46            }
     47          }
   \                     ??Display_Process_0:
   \   000020   1001         RETA
     48          
     49          
     50          //===========================================================================
     51          // Function name: Carlson_StateMachine
     52          //
     53          // Description: Toggle LEDs
     54          //
     55          // Passed : no variables passed
     56          // Locals: no variables declared
     57          // Returned: no values returned
     58          // Globals: one_time
     59          // Time_Sequence
     60          // display_changed
     61          //
     62          // Author: Ibrahim Moghul
     63          // Date: Feb 2022
     64          // Compiler: Built with IAR Embedded Workbench Version: (7.21.1)
     65          //===========================================================================

   \                                 In  segment CODE, align 2
     66          void Carlson_StateMachine(void){
   \                     Carlson_StateMachine:
     67            
     68              switch(Time_Sequence){
   \   000000   1F42....     MOV.W   &Time_Sequence, R15
   \   000004   3F803200     SUB.W   #0x32, R15
   \   000008   3B24         JEQ     ??Carlson_StateMachine_6
   \   00000A   3F803200     SUB.W   #0x32, R15
   \   00000E   2B24         JEQ     ??Carlson_StateMachine_7
   \   000010   3F803200     SUB.W   #0x32, R15
   \   000014   1D24         JEQ     ??Carlson_StateMachine_8
   \   000016   3F803200     SUB.W   #0x32, R15
   \   00001A   1124         JEQ     ??Carlson_StateMachine_9
   \   00001C   3F803200     SUB.W   #0x32, R15
   \   000020   3920         JNE     ??Carlson_StateMachine_5
     69                case 250:                        //
     70                  if(one_time){
   \   000022   C293....     CMP.B   #0x0, &one_time
   \   000026   0824         JEQ     ??Carlson_StateMachine_10
     71                    Init_LEDs();
   \   000028   ........     CALLA   #Init_LEDs
     72                    lcd_BIG_mid();
   \   00002C   ........     CALLA   #lcd_BIG_mid
     73                    display_changed = 1;
   \   000030   D243....     MOV.B   #0x1, &display_changed
     74                    one_time = 0;
   \   000034   C243....     MOV.B   #0x0, &one_time
     75                  }
     76                  Time_Sequence = 0;             //
   \                     ??Carlson_StateMachine_10:
   \   000038   8243....     MOV.W   #0x0, &Time_Sequence
     77                  break;
   \   00003C   1001         RETA
     78                case 200:                        //
     79                  if(one_time){
   \                     ??Carlson_StateMachine_9:
   \   00003E   C293....     CMP.B   #0x0, &one_time
   \   000042   2824         JEQ     ??Carlson_StateMachine_5
     80                    P6OUT |= GRN_LED;            // Change State of LED 5
   \   000044   F2D040004302 BIS.B   #0x40, &0x243
     81                    one_time = 0;
   \   00004A   C243....     MOV.B   #0x0, &one_time
     82                  }
     83                  break;
   \   00004E   1001         RETA
     84                case 150:                         //
     85                  if(one_time){
   \                     ??Carlson_StateMachine_8:
   \   000050   C293....     CMP.B   #0x0, &one_time
   \   000054   1F24         JEQ     ??Carlson_StateMachine_5
     86                    P1OUT |= RED_LED;            // Change State of LED 4
   \   000056   D2D30202     BIS.B   #0x1, &0x202
     87                    P6OUT &= ~GRN_LED;           // Change State of LED 5
   \   00005A   F2C040004302 BIC.B   #0x40, &0x243
     88                    one_time = 0;
   \   000060   C243....     MOV.B   #0x0, &one_time
     89                  }
     90                  break;
   \   000064   1001         RETA
     91                case 100:                         //
     92                  if(one_time){
   \                     ??Carlson_StateMachine_7:
   \   000066   C293....     CMP.B   #0x0, &one_time
   \   00006A   1424         JEQ     ??Carlson_StateMachine_5
     93          //          lcd_4line();
     94                    lcd_BIG_bot();
   \   00006C   ........     CALLA   #lcd_BIG_bot
     95                    P6OUT |= GRN_LED;            // Change State of LED 5
   \   000070   F2D040004302 BIS.B   #0x40, &0x243
     96                    display_changed = 1;
   \   000076   D243....     MOV.B   #0x1, &display_changed
     97                    one_time = 0;
   \   00007A   C243....     MOV.B   #0x0, &one_time
     98                  }
     99                  break;
   \   00007E   1001         RETA
    100                case  50:                        //
    101                  if(one_time){
   \                     ??Carlson_StateMachine_6:
   \   000080   C293....     CMP.B   #0x0, &one_time
   \   000084   0724         JEQ     ??Carlson_StateMachine_5
    102                    P1OUT &= ~RED_LED;           // Change State of LED 4
   \   000086   D2C30202     BIC.B   #0x1, &0x202
    103                    P6OUT &= ~GRN_LED;           // Change State of LED 5
   \   00008A   F2C040004302 BIC.B   #0x40, &0x243
    104                    one_time = 0;
   \   000090   C243....     MOV.B   #0x0, &one_time
    105                  }
    106                  break;                         //
    107                default: break;
    108              }
    109              
    110          }
   \                     ??Carlson_StateMachine_5:
   \   000094   1001         RETA
   \   000096                REQUIRE _A_PCOUT_L
   \   000096                REQUIRE _A_PAOUT_L
    111          

   \                                 In  segment CODE, align 2
    112          void RunMotors(void){
   \                     RunMotors:
    113              
    114                switch(cycle_count){
   \   000000   1F42....     MOV.W   &cycle_count, R15
   \   000004   3F80C800     SUB.W   #0xc8, R15
   \   000008   0624         JEQ     ??RunMotors_1
   \   00000A   3F80E803     SUB.W   #0x3e8, R15
   \   00000E   0824         JEQ     ??RunMotors_2
   \   000010   1F83         SUB.W   #0x1, R15
   \   000012   0B24         JEQ     ??RunMotors_3
   \   000014   1001         RETA
    115                case 200:
    116                  P6OUT |= R_FORWARD;
   \                     ??RunMotors_1:
   \   000016   D2D34302     BIS.B   #0x1, &0x243
    117                  P6OUT |= L_FORWARD;
   \   00001A   E2D34302     BIS.B   #0x2, &0x243
    118                  break;
   \   00001E   1001         RETA
    119                 case 1200:
    120                  P6OUT &= ~R_FORWARD;
   \                     ??RunMotors_2:
   \   000020   D2C34302     BIC.B   #0x1, &0x243
    121                  P6OUT &= ~L_FORWARD;
   \   000024   E2C34302     BIC.B   #0x2, &0x243
    122                  break;
   \   000028   1001         RETA
    123                case 1201:
    124                  cycle_count=1200;
   \                     ??RunMotors_3:
   \   00002A   B240B004.... MOV.W   #0x4b0, &cycle_count
    125                  break;
    126                default: break;
    127                }
    128              
    129              }
   \   000030   1001         RETA
   \   000032                REQUIRE _A_PCOUT_L

   Maximum stack usage in bytes:

   CSTACK Function
   ------ --------
      4   Carlson_StateMachine
        4   -> Init_LEDs
        4   -> lcd_BIG_bot
        4   -> lcd_BIG_mid
      4   Display_Process
        4   -> Display_Update
      4   RunMotors


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
     150  Carlson_StateMachine
      34  Display_Process
      50  RunMotors
       2  _A_PAOUT_L
       2  _A_PCOUT_L

 
 234 bytes in segment CODE
   4 bytes in segment DATA16_AN
 
 234 bytes of CODE memory
   0 bytes of DATA memory (+ 4 bytes shared)

Errors: none
Warnings: none
